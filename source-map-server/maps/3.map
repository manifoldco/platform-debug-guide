{"version":3,"sources":["webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/connection-07bc76be.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/graphql-76df7e9d.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/fetchAllPages-b1ec78ab.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/manifold-marketplace.entry.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/errorReport-fd9a1346.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/logger-2d4b1cd8.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/loadMark-3d3a666d.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","connections","local","billing","catalog","gateway","marketplace","provisioning","connector","graphql","oauth","stage","prod","waitForAuthToken","getAuthToken","wait","resume","success","document","removeEventListener","addEventListener","setTimeout","detail","message","Error","__rest","s","p","Object","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","createGraphqlFetch","_a","_b","endpoint","_c","_d","retries","_e","_f","setAuthToken","_g","onReady","args","graphqlFetch","attempts","rttStart","element","request","token","auth","response","errors","fetchDuration","performance","now","authorization","fetch","method","headers","assign","Connection","tagName","JSON","stringify","catch","json","data","Array","isArray","statusText","componentName","duration","npmVersion","type","dispatchEvent","CustomEvent","bubbles","some","extensions","createRestFetch","endpoints","restFetch","options","authToken","withAuth","service","includes","status","undefined","errorMessage","emitter","emit","baseWait","INITIALIZED","connection","_this","env","waitTime","subscribers","initialized","initialize","parseInt","event","subscribe","splice","forEach","CalculationType","ChargeTime","ConfigurableFeaturesOrderByField","Currency","Duration","FixedFeaturesOrderByField","InvoiceAction","InvoiceOrderByField","InvoicePreviewOrderByField","InvoiceStatus","IsDeleted","MeteredFeaturesOrderByField","OrderByDirection","PlanFeatureType","PlanOrderByField","PlanState","ProductCredentialsSupportType","ProductOrderByField","ProductState","ProfileState","ProfileStateModifier","RegionsOrderByField","RenewalPoint","ResourceStatusLabel","extendStatics","__extends","d","b","setPrototypeOf","__proto__","__","constructor","create","MissingPageInfo","_super","query","fetchAllPages","nextPage","variables","getConnection","page","edges","pageInfo","remaining","hasNextPage","hasPreviousPage","first","after","endCursor","concat","id","currency","documentation_url","feature_types","images","integration","base_url","features","access_code","plan_change","region","sso","sso_url","version","name","listing","listed","marketing","beta","featured","new","public","logo_url","provider_id","state","support_email","tagline","tags","terms","provided","value_props","skeletonProducts","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","transformSkeleton","skel","cursor","node","displayName","documentationUrl","logoUrl","settings","ssoSupported","credentialsSupport","Single","setupStepsHtml","Available","supportEmail","termsUrl","valueProps","valuePropsHtml","categories","map","products","ManifoldMarketplace","class_1","hostRef","hideCategories","hideSearch","hideTemplates","preserveEvent","hideUntilReady","parsedFeatured","parsedProducts","isLoading","componentWillLoad","parseProps","fetchProducts","q","el","services","parse","list","split","item","trim","render","accurateSkeletonCount","slice","freeProducts","filter","plans","findIndex","free","productLinkFormat","skeleton","templateLinkFormat","slot","get","enumerable","configurable","report","extendedDetail","console","error","evt","logger","_propertyKey","descriptor","originalMethod","rendered","performanceLoadMark","performanceRenderedMark","startsWith","hasSkeletonElements","$tag$","$children$","component","loadMark","_target"],"mappings":"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","file":"3.63a98e0162c92f9b47d1.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as report } from './errorReport-fd9a1346.js';\nvar connections = {\n    local: {\n        billing: 'http://api.billing.arigato.tools/v1',\n        catalog: 'http://api.catalog.arigato.tools/v1',\n        gateway: 'http://api.gateway.arigato.tools/v1',\n        marketplace: 'http://api.marketplace.arigato.tools/v1',\n        provisioning: 'http://api.provisioning.arigato.tools/v1',\n        connector: 'http://api.connector.arigato.tools/v1',\n        graphql: 'http://graphql.arigato.tools/graphql',\n        oauth: 'http://login.arigato.tools/signin/oauth/web',\n    },\n    stage: {\n        billing: 'https://api.billing.stage.manifold.co/v1',\n        catalog: 'https://api.catalog.stage.manifold.co/v1',\n        gateway: 'https://api.stage.manifold.co/v1',\n        marketplace: 'https://api.marketplace.stage.manifold.co/v1',\n        provisioning: 'https://api.provisioning.stage.manifold.co/v1',\n        connector: 'https://api.connector.stage.manifold.co/v1',\n        graphql: 'https://api.stage.manifold.co/graphql',\n        oauth: 'https://login.stage.manifold.co/signin/oauth/web',\n    },\n    prod: {\n        billing: 'https://api.billing.manifold.co/v1',\n        catalog: 'https://api.catalog.manifold.co/v1',\n        gateway: 'https://api.manifold.co/v1',\n        marketplace: 'https://api.marketplace.manifold.co/v1',\n        provisioning: 'https://api.provisioning.manifold.co/v1',\n        connector: 'https://api.connector.manifold.co/v1',\n        graphql: 'https://api.manifold.co/graphql',\n        oauth: 'https://login.manifold.co/signin/oauth/web',\n    },\n};\n/**\n * This grabs the manifold_api_token from local storage, and sets the auth header in requests.\n * You may also pass through any other fetch options youâ€™d like.\n */\nfunction withAuth(authToken, options) {\n    /* FIXME: This is being used as a fallback for our demo apps during the transition to\n     * oauth and GraphQL. The authToken being passed in will only be present if the app\n     * that renders our Web Components uses oauth. But we have demo apps that are keeping\n     * our old tokens in local storage in order for REST calls to work. This keeps them\n     * working.\n     */\n    return Object.assign(Object.assign({}, (options || {})), { headers: Object.assign(Object.assign({}, ((options && options.headers) || {})), { authorization: \"Bearer \" + authToken }) });\n}\nfunction waitForAuthToken(getAuthToken, wait, resume) {\n    return new Promise(function (resolve, reject) {\n        var success = function () {\n            document.removeEventListener('manifold-token-receive', success);\n            resolve(resume());\n        };\n        document.addEventListener('manifold-token-receive', success);\n        setTimeout(function () {\n            document.removeEventListener('manifold-token-receive', success);\n            if (!getAuthToken()) {\n                var detail = { message: 'No auth token given' };\n                report(detail);\n                reject(new Error(detail.message));\n            }\n        }, wait);\n    });\n}\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n            t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nfunction createGraphqlFetch(_a) {\n    var _b = _a.endpoint, endpoint = _b === void 0 ? function () { return 'https://api.manifold.co/graphql'; } : _b, _c = _a.wait, wait = _c === void 0 ? function () { return 15000; } : _c, _d = _a.retries, retries = _d === void 0 ? 0 : _d, _e = _a.getAuthToken, getAuthToken = _e === void 0 ? function () { return undefined; } : _e, _f = _a.setAuthToken, setAuthToken = _f === void 0 ? function () { } : _f, _g = _a.onReady, onReady = _g === void 0 ? function () { return new Promise(function (resolve) { return resolve(); }); } : _g;\n    function graphqlFetch(args, attempts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var rttStart, element, request, token, auth, response, body, errors, fetchDuration, detail, authExpired;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onReady()];\n                    case 1:\n                        _a.sent();\n                        rttStart = performance.now();\n                        element = args.element, request = __rest(args, [\"element\"]);\n                        token = getAuthToken();\n                        auth = token && token !== 'undefined' ? { authorization: \"Bearer \" + token } : {};\n                        return [4 /*yield*/, fetch(endpoint(), {\n                                method: 'POST',\n                                headers: Object.assign(Object.assign(Object.assign({ Connection: 'keep-alive', 'Content-type': 'application/json' }, auth), (element ? { 'x-manifold-component': element.tagName } : {})), { 'x-manifold-ui-version': '0.6.4' }),\n                                body: JSON.stringify(request),\n                            }).catch(function (e) {\n                                // handle unexpected errors\n                                report(e, element);\n                                return Promise.reject(e);\n                            })];\n                    case 2:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        body = _a.sent();\n                        // handle non-GQL responses from errors\n                        if (!body.data && !Array.isArray(body.errors)) {\n                            errors = [{ message: response.statusText }];\n                            report(errors, element);\n                            return [2 /*return*/, {\n                                    data: null,\n                                    errors: errors,\n                                }];\n                        }\n                        fetchDuration = performance.now() - rttStart;\n                        detail = {\n                            componentName: element.tagName,\n                            duration: fetchDuration,\n                            errors: body.errors,\n                            npmVersion: '0.6.4',\n                            request: request,\n                            type: 'manifold-graphql-fetch-duration',\n                        };\n                        (element || document).dispatchEvent(new CustomEvent('manifold-graphql-fetch-duration', { bubbles: true, detail: detail }));\n                        if (body.errors) {\n                            report(body.errors, element);\n                            authExpired = body.errors.some(function (e) {\n                                return e.extensions && e.extensions.type === 'AuthFailed';\n                            });\n                            if (authExpired) {\n                                setAuthToken('');\n                                if (attempts < retries) {\n                                    return [2 /*return*/, waitForAuthToken(getAuthToken, wait(), function () { return graphqlFetch(args, attempts + 1); })];\n                                }\n                                throw new Error('Auth token expired');\n                            }\n                        }\n                        // return everything to the user\n                        return [2 /*return*/, body];\n                }\n            });\n        });\n    }\n    return function (args) {\n        return graphqlFetch(args, 0);\n    };\n}\nfunction createRestFetch(_a) {\n    var _b = _a.endpoints, endpoints = _b === void 0 ? function () { return connections.prod; } : _b, _c = _a.wait, wait = _c === void 0 ? function () { return 15000; } : _c, _d = _a.retries, retries = _d === void 0 ? 0 : _d, _e = _a.getAuthToken, getAuthToken = _e === void 0 ? function () { return undefined; } : _e, _f = _a.setAuthToken, setAuthToken = _f === void 0 ? function () { } : _f, _g = _a.onReady, onReady = _g === void 0 ? function () { return new Promise(function (resolve) { return resolve(); }); } : _g;\n    function restFetch(args, attempts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var rttStart, token, options, response, body, fetchDuration, detail, message;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onReady()];\n                    case 1:\n                        _a.sent();\n                        rttStart = performance.now();\n                        token = getAuthToken();\n                        options = token ? withAuth(token, args.options) : args.options;\n                        return [4 /*yield*/, fetch(\"\" + endpoints()[args.service] + args.endpoint, Object.assign(Object.assign({}, options), { body: JSON.stringify(args.body) })).catch(function (e) {\n                                /* Handle unexpected errors */\n                                report(e);\n                                return Promise.reject(e);\n                            })];\n                    case 2:\n                        response = _a.sent();\n                        /* Handle successful responses */\n                        if ([202, 203, 204].includes(response.status)) {\n                            return [2 /*return*/, undefined];\n                        }\n                        /* Handle expected errors */\n                        if (response.status === 401) {\n                            setAuthToken('');\n                            report(response);\n                            if (attempts < retries) {\n                                return [2 /*return*/, waitForAuthToken(getAuthToken, wait(), function () { return restFetch(args, attempts + 1); })];\n                            }\n                            throw new Error('Auth token expired');\n                        }\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        body = _a.sent();\n                        fetchDuration = performance.now() - rttStart;\n                        detail = {\n                            type: 'manifold-rest-fetch-duration',\n                            endpoint: args.endpoint,\n                            duration: fetchDuration,\n                            status: response.status,\n                        };\n                        if (Array.isArray(body) && body.length > 0) {\n                            message = body[0].message;\n                        }\n                        else if (typeof body === 'object') {\n                            message = body.message;\n                        }\n                        if (message) {\n                            detail.errorMessage = message;\n                        }\n                        if (args.emitter) {\n                            args.emitter.emit(detail);\n                        }\n                        else {\n                            document.dispatchEvent(new CustomEvent('manifold-rest-fetch-duration', {\n                                bubbles: true,\n                                detail: detail,\n                            }));\n                        }\n                        if (response.status >= 200 && response.status < 300) {\n                            return [2 /*return*/, body];\n                        }\n                        // Sometimes messages are an array, sometimes they arenâ€™t. Different strokes!\n                        report(response);\n                        throw new Error(message);\n                }\n            });\n        });\n    }\n    return function (args) {\n        return restFetch(args, 0);\n    };\n}\nvar baseWait = 15000;\nvar INITIALIZED = 'manifold-connection-initialize';\nvar ConnectionState = /** @class */ (function () {\n    function ConnectionState() {\n        var _this = this;\n        this.env = 'prod';\n        this.waitTime = baseWait;\n        this.subscribers = [];\n        this.initialized = false;\n        this.initialize = function (_a) {\n            var _b = _a.env, env = _b === void 0 ? 'prod' : _b, _c = _a.waitTime, waitTime = _c === void 0 ? baseWait : _c;\n            _this.env = env;\n            _this.waitTime = typeof waitTime === 'number' ? waitTime : parseInt(waitTime, 10);\n            _this.initialized = true;\n            var event = new CustomEvent(INITIALIZED);\n            document.dispatchEvent(event);\n        };\n        this.onReady = function () {\n            return new Promise(function (resolve) {\n                if (_this.initialized) {\n                    resolve();\n                }\n                var done = function () {\n                    _this.initialized = true;\n                    document.removeEventListener(INITIALIZED, done);\n                    resolve();\n                };\n                document.addEventListener(INITIALIZED, done);\n            });\n        };\n        this.subscribe = function (s) {\n            _this.subscribers.push(s);\n            return function () {\n                _this.subscribers.splice(_this.subscribers.indexOf(s), 1);\n            };\n        };\n        this.setAuthToken = function (token) {\n            _this.subscribers.forEach(function (s) { return s(token); });\n            _this.authToken = token;\n        };\n        this.getAuthToken = function () { return _this.authToken; };\n        this.restFetch = createRestFetch({\n            endpoints: function () { return connections[_this.env]; },\n            getAuthToken: this.getAuthToken,\n            setAuthToken: this.setAuthToken,\n            onReady: this.onReady,\n            wait: function () { return _this.waitTime; },\n            retries: 1,\n        });\n        this.graphqlFetch = createGraphqlFetch({\n            getAuthToken: this.getAuthToken,\n            setAuthToken: this.setAuthToken,\n            onReady: this.onReady,\n            endpoint: function () { return connections[_this.env].graphql; },\n            wait: function () { return _this.waitTime; },\n            retries: 1,\n        });\n    }\n    return ConnectionState;\n}());\nvar connection = new ConnectionState();\nexport { connections as a, connection as c, waitForAuthToken as w };\n","/** CalculationType represents the known calculation types possible for SubLineItems. */\nvar CalculationType;\n(function (CalculationType) {\n    CalculationType[\"Prorate\"] = \"PRORATE\";\n    CalculationType[\"UsageTier\"] = \"USAGE_TIER\";\n})(CalculationType || (CalculationType = {}));\n/** ChargeTime is representation of when the charge for a cycle occurs. */\nvar ChargeTime;\n(function (ChargeTime) {\n    ChargeTime[\"PostPaid\"] = \"POST_PAID\";\n})(ChargeTime || (ChargeTime = {}));\n/** Fields by which to sort configurable features. */\nvar ConfigurableFeaturesOrderByField;\n(function (ConfigurableFeaturesOrderByField) {\n    ConfigurableFeaturesOrderByField[\"Label\"] = \"LABEL\";\n    ConfigurableFeaturesOrderByField[\"DisplayName\"] = \"DISPLAY_NAME\";\n})(ConfigurableFeaturesOrderByField || (ConfigurableFeaturesOrderByField = {}));\n/** Currency is the supported currency, represented as an ISO currency code. */\nvar Currency;\n(function (Currency) {\n    Currency[\"Usd\"] = \"USD\";\n})(Currency || (Currency = {}));\n/** Duration is a representation of the length a cycle. */\nvar Duration;\n(function (Duration) {\n    Duration[\"Monthly\"] = \"MONTHLY\";\n})(Duration || (Duration = {}));\n/** Fields by which to sort fixed features. */\nvar FixedFeaturesOrderByField;\n(function (FixedFeaturesOrderByField) {\n    FixedFeaturesOrderByField[\"DisplayName\"] = \"DISPLAY_NAME\";\n})(FixedFeaturesOrderByField || (FixedFeaturesOrderByField = {}));\n/** InvoiceAction is the mutation action to be taken on an Invoice */\nvar InvoiceAction;\n(function (InvoiceAction) {\n    InvoiceAction[\"Attempt\"] = \"ATTEMPT\";\n    InvoiceAction[\"Collected\"] = \"COLLECTED\";\n})(InvoiceAction || (InvoiceAction = {}));\n/** InvoiceOrderByField is the field by which an Invoice list will be ordered. */\nvar InvoiceOrderByField;\n(function (InvoiceOrderByField) {\n    InvoiceOrderByField[\"End\"] = \"END\";\n})(InvoiceOrderByField || (InvoiceOrderByField = {}));\n/** InvoicePreviewOrderByField is the field by which an Invoice preview list will be ordered. */\nvar InvoicePreviewOrderByField;\n(function (InvoicePreviewOrderByField) {\n    InvoicePreviewOrderByField[\"CreatedAt\"] = \"CREATED_AT\";\n})(InvoicePreviewOrderByField || (InvoicePreviewOrderByField = {}));\n/** InvoiceStatus represents the current status of an Invoice */\nvar InvoiceStatus;\n(function (InvoiceStatus) {\n    InvoiceStatus[\"Preview\"] = \"PREVIEW\";\n    InvoiceStatus[\"Pending\"] = \"PENDING\";\n    InvoiceStatus[\"Paid\"] = \"PAID\";\n})(InvoiceStatus || (InvoiceStatus = {}));\n/**\n * IsDeleted is an enum indicating whether a query should search for deleted records.\n * When value is MAYBE, query searches both deleted and non-deleted records\n **/\nvar IsDeleted;\n(function (IsDeleted) {\n    IsDeleted[\"False\"] = \"FALSE\";\n    IsDeleted[\"True\"] = \"TRUE\";\n    IsDeleted[\"Maybe\"] = \"MAYBE\";\n})(IsDeleted || (IsDeleted = {}));\n/** Fields by which to sort metered features. */\nvar MeteredFeaturesOrderByField;\n(function (MeteredFeaturesOrderByField) {\n    MeteredFeaturesOrderByField[\"Label\"] = \"LABEL\";\n    MeteredFeaturesOrderByField[\"DisplayName\"] = \"DISPLAY_NAME\";\n})(MeteredFeaturesOrderByField || (MeteredFeaturesOrderByField = {}));\n/** The direction used to order results. */\nvar OrderByDirection;\n(function (OrderByDirection) {\n    OrderByDirection[\"Asc\"] = \"ASC\";\n    OrderByDirection[\"Desc\"] = \"DESC\";\n})(OrderByDirection || (OrderByDirection = {}));\n/** PlanFeatureType is an enumeration of different types of plans. */\nvar PlanFeatureType;\n(function (PlanFeatureType) {\n    PlanFeatureType[\"Boolean\"] = \"BOOLEAN\";\n    PlanFeatureType[\"String\"] = \"STRING\";\n    PlanFeatureType[\"Number\"] = \"NUMBER\";\n})(PlanFeatureType || (PlanFeatureType = {}));\n/** PlanOrderByField is the field by which a plan list will be ordered. */\nvar PlanOrderByField;\n(function (PlanOrderByField) {\n    PlanOrderByField[\"Label\"] = \"LABEL\";\n    PlanOrderByField[\"DisplayName\"] = \"DISPLAY_NAME\";\n    PlanOrderByField[\"Cost\"] = \"COST\";\n})(PlanOrderByField || (PlanOrderByField = {}));\n/** PlanState is an enumeration of possible plan states. */\nvar PlanState;\n(function (PlanState) {\n    PlanState[\"Hidden\"] = \"HIDDEN\";\n    PlanState[\"Available\"] = \"AVAILABLE\";\n    PlanState[\"Grandfathered\"] = \"GRANDFATHERED\";\n    PlanState[\"Unlisted\"] = \"UNLISTED\";\n})(PlanState || (PlanState = {}));\n/**\n * ProductCredentialsSupportType describes product credentials support.\n *\n * * `NONE`: means that no credentials are necessary to access the product.\n *     This can happen for products that are only usable through their dashboard.\n * * `SINGLE`: means that the product only supports one credential set at a single time.\n * * `MULTIPLE`: means that the product supports multiple credential sets at a single time.\n **/\nvar ProductCredentialsSupportType;\n(function (ProductCredentialsSupportType) {\n    ProductCredentialsSupportType[\"None\"] = \"NONE\";\n    ProductCredentialsSupportType[\"Single\"] = \"SINGLE\";\n    ProductCredentialsSupportType[\"Multiple\"] = \"MULTIPLE\";\n})(ProductCredentialsSupportType || (ProductCredentialsSupportType = {}));\n/** ProductOrderByField is the field by which the product list will be ordered. */\nvar ProductOrderByField;\n(function (ProductOrderByField) {\n    ProductOrderByField[\"DisplayName\"] = \"DISPLAY_NAME\";\n})(ProductOrderByField || (ProductOrderByField = {}));\n/** ProductState is an enum of possible product states. */\nvar ProductState;\n(function (ProductState) {\n    ProductState[\"Available\"] = \"AVAILABLE\";\n    ProductState[\"Hidden\"] = \"HIDDEN\";\n    ProductState[\"Grandfathered\"] = \"GRANDFATHERED\";\n    ProductState[\"New\"] = \"NEW\";\n    ProductState[\"Upcoming\"] = \"UPCOMING\";\n})(ProductState || (ProductState = {}));\n/**\n * ProfileState is the current state the profile is in. Based on this state,\n * Manifold determines if a profile can take certain actions or not.\n **/\nvar ProfileState;\n(function (ProfileState) {\n    ProfileState[\"Active\"] = \"ACTIVE\";\n    ProfileState[\"Suspended\"] = \"SUSPENDED\";\n    ProfileState[\"Deleted\"] = \"DELETED\";\n})(ProfileState || (ProfileState = {}));\n/** ProfileStateModifier represents the possible modifiers of the Profile's state. */\nvar ProfileStateModifier;\n(function (ProfileStateModifier) {\n    ProfileStateModifier[\"Manifold\"] = \"MANIFOLD\";\n    ProfileStateModifier[\"Platform\"] = \"PLATFORM\";\n})(ProfileStateModifier || (ProfileStateModifier = {}));\n/** RegionsOrderByField is an enum of fields by which regions will be ordered. */\nvar RegionsOrderByField;\n(function (RegionsOrderByField) {\n    RegionsOrderByField[\"DisplayName\"] = \"DISPLAY_NAME\";\n    RegionsOrderByField[\"Platform\"] = \"PLATFORM\";\n    RegionsOrderByField[\"DataCenter\"] = \"DATA_CENTER\";\n})(RegionsOrderByField || (RegionsOrderByField = {}));\n/** RenewalPoint is a representation of when the cycle renewal occurs. */\nvar RenewalPoint;\n(function (RenewalPoint) {\n    RenewalPoint[\"Calendar\"] = \"CALENDAR\";\n})(RenewalPoint || (RenewalPoint = {}));\n/** ResourceStatusLabel is an enum representing the possible status a resource can have. */\nvar ResourceStatusLabel;\n(function (ResourceStatusLabel) {\n    ResourceStatusLabel[\"Available\"] = \"AVAILABLE\";\n    ResourceStatusLabel[\"Creating\"] = \"CREATING\";\n    ResourceStatusLabel[\"Updating\"] = \"UPDATING\";\n    ResourceStatusLabel[\"Deleting\"] = \"DELETING\";\n    ResourceStatusLabel[\"Deleted\"] = \"DELETED\";\n    ResourceStatusLabel[\"ErrorCreating\"] = \"ERROR_CREATING\";\n    ResourceStatusLabel[\"ErrorUpdating\"] = \"ERROR_UPDATING\";\n    ResourceStatusLabel[\"ErrorDeleting\"] = \"ERROR_DELETING\";\n})(ResourceStatusLabel || (ResourceStatusLabel = {}));\nexport { ProductCredentialsSupportType as P, ResourceStatusLabel as R, ProductState as a, PlanState as b, PlanFeatureType as c };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { c as connection } from './connection-07bc76be.js';\nvar MissingPageInfo = /** @class */ (function (_super) {\n    __extends(MissingPageInfo, _super);\n    function MissingPageInfo(query) {\n        var _this = this;\n        var message = \"\\n      You've requested all pages of a GraphQL connection, but you\\n      forgot to request the pageInfo from the query. To request\\n      pageInfo, add it as a sibling to the edges part of your query.\\n      An example query looks like this:\\n\\n      query LIST_THINGS($first: Int!, $after: String!) {\\n        things(first: $first, after: $after) {\\n          edges {\\n            node {\\n              id\\n              label\\n            }\\n          }\\n          pageInfo {\\n            hasNextPage\\n            endCursor\\n          }\\n        }\\n      }\\n\\n      Your query was:\\n\\n      \" + query + \"\\n    \";\n        _this = _super.call(this, message) || this;\n        return _this;\n    }\n    return MissingPageInfo;\n}(Error));\nfunction fetchAllPages(_a) {\n    var query = _a.query, nextPage = _a.nextPage, variables = _a.variables, getConnection = _a.getConnection, _b = _a.graphqlFetch, graphqlFetch = _b === void 0 ? connection.graphqlFetch : _b, element = _a.element;\n    return __awaiter(this, void 0, void 0, function () {\n        var page, _c, edges, pageInfo, next, remaining;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0: return [4 /*yield*/, graphqlFetch({\n                        query: query,\n                        variables: Object.assign(Object.assign({}, nextPage), variables),\n                        element: element,\n                    })];\n                case 1:\n                    page = _d.sent();\n                    if (page.errors || !page.data) {\n                        throw new Error(\"Could not fetch all pages of query: \" + query);\n                    }\n                    _c = getConnection(page.data) || {\n                        edges: [],\n                        pageInfo: {\n                            hasNextPage: false,\n                            hasPreviousPage: false,\n                        },\n                    }, edges = _c.edges, pageInfo = _c.pageInfo;\n                    if (!pageInfo) {\n                        throw new MissingPageInfo(query);\n                    }\n                    if (!pageInfo.hasNextPage) return [3 /*break*/, 3];\n                    next = { first: nextPage.first, after: pageInfo.endCursor || '' };\n                    return [4 /*yield*/, fetchAllPages({\n                            query: query,\n                            nextPage: next,\n                            variables: variables,\n                            getConnection: getConnection,\n                            graphqlFetch: graphqlFetch,\n                            element: element,\n                        })];\n                case 2:\n                    remaining = _d.sent();\n                    return [2 /*return*/, edges.concat(remaining)];\n                case 3: return [2 /*return*/, edges];\n            }\n        });\n    });\n}\nexport { fetchAllPages as f };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, h, g as getElement } from './core-1b19af26.js';\nimport { c as connection } from './connection-07bc76be.js';\nimport './errorReport-fd9a1346.js';\nimport { l as logger } from './logger-2d4b1cd8.js';\nimport { l as loadMark } from './loadMark-3d3a666d.js';\nimport { f as fetchAllPages } from './fetchAllPages-b1ec78ab.js';\nimport { P as ProductCredentialsSupportType, a as ProductState } from './graphql-76df7e9d.js';\nvar id = '2015-12-24T19:22:00-0300';\nvar body = {\n    billing: { type: 'monthly-prorated', currency: 'usd' },\n    documentation_url: '',\n    feature_types: [],\n    images: [],\n    integration: {\n        base_url: '',\n        features: { access_code: false, plan_change: true, region: 'user-specified', sso: true },\n        provisioning: '',\n        sso_url: '',\n        version: 'v1',\n    },\n    label: '',\n    name: '',\n    listing: { listed: true, marketing: { beta: false, featured: false, new: false }, public: true },\n    logo_url: '',\n    provider_id: '',\n    state: '',\n    support_email: '',\n    tagline: '',\n    tags: [],\n    terms: { provided: false },\n    value_props: [],\n};\nvar skeletonProducts = [\n    {\n        id: id,\n        body: Object.assign(Object.assign({}, body), { name: 'David Leger', tagline: 'David Leger: lover of cats, conqueror of front-ends', tags: [\n                'ai-ml',\n                'database',\n                'logging',\n                'memory-store',\n                'messaging',\n                'monitoring',\n                'optimization',\n                'search',\n            ] }),\n        type: 'product',\n        version: 1,\n    },\n    {\n        id: id,\n        body: Object.assign(Object.assign({}, body), { name: 'Sam Slotsky', tagline: 'Sam Slotsky: smoker of meats, crooner of sax, master of all that is architectural', tags: [\n                'authentication',\n                'database',\n                'memory-store',\n                'messaging',\n                'monitoring',\n                'utility',\n                'worker',\n            ] }),\n        type: 'product',\n        version: 1,\n    },\n    {\n        id: id,\n        body: Object.assign(Object.assign({}, body), { name: 'Jessica Johnson', tagline: 'Jessica Johnson: critical examiner, curious explorer of technology', tags: ['cms', 'database', 'memory-store', 'messaging', 'utility', 'worker'] }),\n        type: 'product',\n        version: 1,\n    },\n    {\n        id: id,\n        body: Object.assign(Object.assign({}, body), { name: 'Nicholas Tassone', tagline: 'Nicolas Tassone: king of pixels, warrior of the unknown, our shining light in the darkness', tags: ['database', 'logging', 'messaging', 'monitoring', 'optimization', 'runtime'] }),\n        type: 'product',\n        version: 1,\n    },\n    {\n        id: id,\n        body: Object.assign(Object.assign({}, body), { name: 'James Bowes', tagline: 'James Bowes: the mighty moustache, paladin of all things technical and distrubuted.', tags: ['database', 'logging', 'messaging', 'optimization', 'runtime', 'sell-your-service'] }),\n        type: 'product',\n        version: 1,\n    },\n];\nvar productQuery = \"query PRODUCTS($first: Int!, $after: String!) {\\n  products(first: $first, after: $after) {\\n    edges {\\n      node {\\n        id\\n        label\\n        tagline\\n        logoUrl\\n        displayName\\n        categories {\\n          label\\n        }\\n        plans(first: 25) {\\n          edges {\\n            node {\\n              free\\n            }\\n          }\\n        }\\n      }\\n    }\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n  }\\n}\\n\";\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nfunction transformSkeleton(skel) {\n    return {\n        cursor: skel.id,\n        node: {\n            id: skel.id,\n            displayName: skel.body.name,\n            documentationUrl: skel.body.documentation_url,\n            label: skel.body.label,\n            logoUrl: skel.body.logo_url,\n            tagline: skel.body.tagline,\n            settings: {\n                ssoSupported: true,\n                credentialsSupport: ProductCredentialsSupportType.Single,\n            },\n            setupStepsHtml: '',\n            state: ProductState.Available,\n            supportEmail: skel.body.support_email,\n            termsUrl: '',\n            valueProps: [],\n            valuePropsHtml: '',\n            categories: skel.body.tags\n                ? skel.body.tags.map(function (t) { return ({\n                    label: t,\n                    products: {\n                        edges: [],\n                        pageInfo: {\n                            hasNextPage: false,\n                            hasPreviousPage: false,\n                        },\n                    },\n                }); })\n                : [],\n        },\n    };\n}\nvar ManifoldMarketplace = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        /** _(hidden)_ */\n        this.graphqlFetch = connection.graphqlFetch;\n        /** Hide categories & side menu? */\n        this.hideCategories = false;\n        /** Hide search? */\n        this.hideSearch = false;\n        /** Hide template cards? */\n        this.hideTemplates = false;\n        /** Should the JS event still fire, even if product-link-format is passed?  */\n        this.preserveEvent = false;\n        this.hideUntilReady = false;\n        this.parsedFeatured = [];\n        this.parsedProducts = [];\n        this.isLoading = false;\n    }\n    class_1.prototype.componentWillLoad = function () {\n        this.parseProps();\n        var call = this.fetchProducts();\n        if (this.hideUntilReady) {\n            return call;\n        }\n        return Promise.resolve();\n    };\n    class_1.prototype.fetchProducts = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.isLoading = true;\n                        _a = this;\n                        return [4 /*yield*/, fetchAllPages({\n                                query: productQuery,\n                                nextPage: { first: 50, after: '' },\n                                getConnection: function (q) { return q.products; },\n                                graphqlFetch: this.graphqlFetch,\n                                element: this.el,\n                            })];\n                    case 1:\n                        _a.services = _b.sent();\n                        this.isLoading = false;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.parse = function (list) {\n        return list.split(',').map(function (item) { return item.trim(); });\n    };\n    class_1.prototype.parseProps = function () {\n        if (typeof this.featured === 'string') {\n            this.parsedFeatured = this.parse(this.featured);\n        }\n        if (typeof this.products === 'string') {\n            this.parsedProducts = this.parse(this.products);\n        }\n    };\n    class_1.prototype.render = function () {\n        var accurateSkeletonCount = this.parsedProducts.length > 0 && this.parsedProducts.length < skeletonProducts.length\n            ? skeletonProducts.slice(0, this.parsedProducts.length)\n            : skeletonProducts;\n        var freeProducts = this.services\n            ? this.services.filter(function (_a) {\n                var plans = _a.node.plans;\n                return plans && plans.edges.findIndex(function (_a) {\n                    var free = _a.node.free;\n                    return !!free;\n                }) !== -1;\n            })\n            : [];\n        return (h(\"manifold-marketplace-grid\", { featured: this.parsedFeatured, freeProducts: freeProducts.map(function (_a) {\n                var label = _a.node.label;\n                return label;\n            }), hideCategories: this.hideCategories, hideSearch: this.hideSearch, hideTemplates: this.hideTemplates, preserveEvent: this.preserveEvent, productLinkFormat: this.productLinkFormat, products: this.parsedProducts, skeleton: this.isLoading, services: this.isLoading ? accurateSkeletonCount.map(transformSkeleton) : this.services, templateLinkFormat: this.templateLinkFormat }, h(\"manifold-forward-slot\", { slot: \"sidebar\" }, h(\"slot\", { name: \"sidebar\" }))));\n    };\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return class_1;\n}());\n__decorate([\n    loadMark()\n], ManifoldMarketplace.prototype, \"componentWillLoad\", null);\n__decorate([\n    logger()\n], ManifoldMarketplace.prototype, \"render\", null);\nexport { ManifoldMarketplace as manifold_marketplace };\n","/* eslint-disable somethnig */\nfunction report(detail, element) {\n    var extendedDetail = Object.assign(Object.assign(Object.assign({}, detail), (element ? { componentName: element.tagName } : {})), { npmVersion: '0.6.4' });\n    console.error(detail); // report error (Rollbar, Datadog, etc.)\n    var evt = new CustomEvent('manifold-error', { bubbles: true, detail: extendedDetail });\n    (element || document).dispatchEvent(evt);\n}\nexport { report as r };\n","import { h } from './core-1b19af26.js';\nimport { r as report } from './errorReport-fd9a1346.js';\nfunction hasSkeletonElements(rendered) {\n    if (rendered &&\n        rendered.$tag$ &&\n        rendered.$tag$.startsWith &&\n        rendered.$tag$.startsWith('manifold-skeleton-')) {\n        return true;\n    }\n    if (rendered && rendered.$children$) {\n        return rendered.$children$.map(function (c) { return hasSkeletonElements(c); }).includes(true);\n    }\n    return false;\n}\n/* eslint-disable no-param-reassign */\nfunction logger() {\n    return function loggerDecorator(target, _propertyKey, descriptor) {\n        var originalMethod = descriptor.value;\n        descriptor.value = function render() {\n            try {\n                var rendered = originalMethod.apply(this); // attempt to call render()\n                if (this.performanceLoadMark &&\n                    !this.performanceRenderedMark &&\n                    target.constructor.name.startsWith('Manifold') &&\n                    !hasSkeletonElements(rendered)) {\n                    this.performanceRenderedMark = performance.now();\n                    var evt = new CustomEvent('manifold-time-to-render', {\n                        bubbles: true,\n                        detail: {\n                            component: target.constructor.name,\n                            duration: this.performanceRenderedMark - this.performanceLoadMark,\n                        },\n                    });\n                    document.dispatchEvent(evt);\n                }\n                return rendered;\n            }\n            catch (e) {\n                var detail = {\n                    componentName: target.constructor.name,\n                    error: e.message,\n                    npmVersion: '0.6.4',\n                };\n                report(detail);\n                return h(\"manifold-toast\", { \"alert-type\": \"error\" }, e.message); // show error to user\n            }\n        };\n        return descriptor;\n    };\n}\nexport { logger as l };\n","/* eslint-disable no-param-reassign */\nfunction loadMark() {\n    return function loadMarkDecorator(_target, _propertyKey, descriptor) {\n        var originalMethod = descriptor.value;\n        descriptor.value = function componentWillLoad() {\n            this.performanceLoadMark = performance.now();\n            return originalMethod.apply(this); // call original method\n        };\n        return descriptor;\n    };\n}\nexport { loadMark as l };\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/resource-e9fa5185.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/errorReport-fd9a1346.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/manifold-resource-rename.entry.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/logger-2d4b1cd8.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/loadMark-3d3a666d.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","ResourceTunnel","defaultState","consumerRender","listeners","Map","currentState","updateListener","fields","instance","isArray","forEach","fieldName","Object","assign","subscribe","propList","has","set","delete","Provider","_a","children","state","Consumer","props","injectProps","Cstr","fieldList","CstrPrototype","prototype","cstrConnectedCallback","connectedCallback","cstrDisconnectedCallback","disconnectedCallback","this","call","createProviderConsumer","data","undefined","loading","child","renderer","report","detail","element","extendedDetail","componentName","tagName","npmVersion","console","error","evt","CustomEvent","bubbles","document","dispatchEvent","__decorate","decorators","target","key","desc","d","c","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","ManifoldResourceRename","hostRef","newLabel","componentWillLoad","render","resourceId","gqlData","id","resourceLabel","label","disabled","logger","_propertyKey","descriptor","originalMethod","value","rendered","apply","performanceLoadMark","performanceRenderedMark","constructor","name","startsWith","hasSkeletonElements","$tag$","$children$","map","includes","performance","now","component","duration","e","message","loadMark","_target"],"mappings":"0FAAA,6CAAIA,EAAkD,WAClD,IAAK,IAAIC,EAAI,EAAGC,EAAI,EAAGC,EAAKC,UAAUC,OAAQH,EAAIC,EAAID,IAAKD,GAAKG,UAAUF,GAAGG,OACxE,IAAIC,EAAIC,MAAMN,GAAIO,EAAI,EAA3B,IAA8BN,EAAI,EAAGA,EAAIC,EAAID,IACzC,IAAK,IAAIO,EAAIL,UAAUF,GAAIQ,EAAI,EAAGC,EAAKF,EAAEJ,OAAQK,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,GA6DPM,EA1DyB,SAAUC,EAAcC,GACjD,IAAIC,EAAY,IAAIC,IAChBC,EAAeJ,EACfK,EAAiB,SAAUC,EAAQC,GAC/Bb,MAAMc,QAAQF,GACdnB,EAAemB,GAAQG,SAAQ,SAAUC,GACrCH,EAASG,GAAaN,EAAaM,MAIvCH,EAASD,GAAUK,OAAOC,OAAO,GAAIR,IAGzCS,EAAY,SAAUN,EAAUO,GAKhC,OAJKZ,EAAUa,IAAIR,KACfL,EAAUc,IAAIT,EAAUO,GACxBT,EAAeS,EAAUP,IAEtB,WACCL,EAAUa,IAAIR,IACdL,EAAUe,OAAOV,KAgC7B,MAAO,CACHW,SA7BW,SAAUC,EAAIC,GACzB,IAAIC,EAAQF,EAAGE,MAGf,OAFAjB,EAAeiB,EACfnB,EAAUO,QAAQJ,GACXe,GA0BPE,SAxBW,SAAUC,EAAOH,GAG5B,OAAOnB,EAAeY,EAAWO,EAAS,KAsB1CI,YApBc,SAAUC,EAAMC,GAC9B,IAAIC,EAAgBF,EAAKG,UACrBC,EAAwBF,EAAcG,kBACtCC,EAA2BJ,EAAcK,qBAC7CL,EAAcG,kBAAoB,WAE9B,GADAjB,EAAUoB,KAAMP,GACZG,EACA,OAAOA,EAAsBK,KAAKD,OAG1CN,EAAcK,qBAAuB,WACjC9B,EAAUe,OAAOgB,MACbF,GACAA,EAAyBG,KAAKD,SAUzBE,CAAuB,CACxCC,UAAMC,EACNC,SAAS,IACV,SAAUzB,EAAW0B,GAAS,OAAO,YAAE,mBAAoB,CAAE1B,UAAWA,EAAW2B,SAAUD,Q,+BCpEhG,SAASE,EAAOC,EAAQC,GACpB,IAAIC,EAAiBjC,OAAOC,OAAOD,OAAOC,OAAOD,OAAOC,OAAO,GAAI8B,GAAUC,EAAU,CAAEE,cAAeF,EAAQG,SAAY,IAAM,CAAEC,WAAY,UAChJC,QAAQC,MAAMP,GACd,IAAIQ,EAAM,IAAIC,YAAY,iBAAkB,CAAEC,SAAS,EAAMV,OAAQE,KACpED,GAAWU,UAAUC,cAAcJ,GALxC,mC,gCCAA,wGAKIK,EAAoD,SAAUC,EAAYC,EAAQC,EAAKC,GACvF,IAA2HC,EAAvHC,EAAItE,UAAUC,OAAQC,EAAIoE,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAOhD,OAAOmD,yBAAyBL,EAAQC,GAAOC,EACrH,GAAuB,iBAAZI,SAAoD,mBAArBA,QAAQC,SAC9CvE,EAAIsE,QAAQC,SAASR,EAAYC,EAAQC,EAAKC,QAE9C,IAAK,IAAItE,EAAImE,EAAWhE,OAAS,EAAGH,GAAK,EAAGA,KACpCuE,EAAIJ,EAAWnE,MACfI,GAAKoE,EAAI,EAAID,EAAEnE,GAAKoE,EAAI,EAAID,EAAEH,EAAQC,EAAKjE,GAAKmE,EAAEH,EAAQC,KAASjE,GAC/E,OAAOoE,EAAI,GAAKpE,GAAKkB,OAAOsD,eAAeR,EAAQC,EAAKjE,GAAIA,GAE5DyE,EAAwC,WACxC,SAASA,EAAuBC,GAC5B,YAAiBlC,KAAMkC,GACvBlC,KAAKK,SAAU,EAEfL,KAAKmC,SAAW,GAMpB,OAJAF,EAAuBtC,UAAUyC,kBAAoB,aACrDH,EAAuBtC,UAAU0C,OAAS,WACtC,OAAQ,WAAD,CAAG,8BAA+B,CAAEC,WAAYtC,KAAKuC,SAAWvC,KAAKuC,QAAQC,GAAIC,cAAezC,KAAKuC,SAAWvC,KAAKuC,QAAQG,MAAOrC,QAASL,KAAKK,QAASsC,SAAU3C,KAAK2C,SAAUR,SAAUnC,KAAKmC,UAAY,YAAE,OAAQ,QAE7NF,EAXgC,GAa3CX,EAAW,CACP,eACDW,EAAuBtC,UAAW,oBAAqB,MAC1D2B,EAAW,CACP,eACDW,EAAuBtC,UAAW,SAAU,MAC/C,IAAeJ,YAAY0C,EAAwB,CAAC,UAAW,a,+BClC/D,oDAeA,SAASW,IACL,OAAO,SAAyBpB,EAAQqB,EAAcC,GAClD,IAAIC,EAAiBD,EAAWE,MA8BhC,OA7BAF,EAAWE,MAAQ,WACf,IACI,IAAIC,EAAWF,EAAeG,MAAMlD,MACpC,GAAIA,KAAKmD,sBACJnD,KAAKoD,yBACN5B,EAAO6B,YAAYC,KAAKC,WAAW,cArBvD,SAASC,EAAoBP,GACzB,SAAIA,GACAA,EAASQ,OACTR,EAASQ,MAAMF,YACfN,EAASQ,MAAMF,WAAW,2BAG1BN,IAAYA,EAASS,aACdT,EAASS,WAAWC,KAAI,SAAU/B,GAAK,OAAO4B,EAAoB5B,MAAOgC,UAAS,GAc5EJ,CAAoBP,GAAW,CAChCjD,KAAKoD,wBAA0BS,YAAYC,MAC3C,IAAI7C,EAAM,IAAIC,YAAY,0BAA2B,CACjDC,SAAS,EACTV,OAAQ,CACJsD,UAAWvC,EAAO6B,YAAYC,KAC9BU,SAAUhE,KAAKoD,wBAA0BpD,KAAKmD,uBAGtD/B,SAASC,cAAcJ,GAE3B,OAAOgC,EAEX,MAAOgB,GACH,IAAIxD,EAAS,CACTG,cAAeY,EAAO6B,YAAYC,KAClCtC,MAAOiD,EAAEC,QACTpD,WAAY,SAGhB,OADA,YAAOL,GACA,YAAE,iBAAkB,CAAE,aAAc,SAAWwD,EAAEC,WAGzDpB,K,+BC9Cf,SAASqB,IACL,OAAO,SAA2BC,EAASvB,EAAcC,GACrD,IAAIC,EAAiBD,EAAWE,MAKhC,OAJAF,EAAWE,MAAQ,WAEf,OADAhD,KAAKmD,oBAAsBU,YAAYC,MAChCf,EAAeG,MAAMlD,OAEzB8C,GARf","file":"31.013db6dbb1f8a59ced46.js","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { h } from './core-1b19af26.js';\nvar createProviderConsumer = function (defaultState, consumerRender) {\n    var listeners = new Map();\n    var currentState = defaultState;\n    var updateListener = function (fields, instance) {\n        if (Array.isArray(fields)) {\n            __spreadArrays(fields).forEach(function (fieldName) {\n                instance[fieldName] = currentState[fieldName];\n            });\n        }\n        else {\n            instance[fields] = Object.assign({}, currentState);\n        }\n    };\n    var subscribe = function (instance, propList) {\n        if (!listeners.has(instance)) {\n            listeners.set(instance, propList);\n            updateListener(propList, instance);\n        }\n        return function () {\n            if (listeners.has(instance)) {\n                listeners.delete(instance);\n            }\n        };\n    };\n    var Provider = function (_a, children) {\n        var state = _a.state;\n        currentState = state;\n        listeners.forEach(updateListener);\n        return children;\n    };\n    var Consumer = function (props, children) {\n        // The casting on subscribe is to allow for crossover through the stencil compiler\n        // In the future we should allow for generics in components.\n        return consumerRender(subscribe, children[0]);\n    };\n    var injectProps = function (Cstr, fieldList) {\n        var CstrPrototype = Cstr.prototype;\n        var cstrConnectedCallback = CstrPrototype.connectedCallback;\n        var cstrDisconnectedCallback = CstrPrototype.disconnectedCallback;\n        CstrPrototype.connectedCallback = function () {\n            subscribe(this, fieldList);\n            if (cstrConnectedCallback) {\n                return cstrConnectedCallback.call(this);\n            }\n        };\n        CstrPrototype.disconnectedCallback = function () {\n            listeners.delete(this);\n            if (cstrDisconnectedCallback) {\n                cstrDisconnectedCallback.call(this);\n            }\n        };\n    };\n    return {\n        Provider: Provider,\n        Consumer: Consumer,\n        injectProps: injectProps\n    };\n};\nvar ResourceTunnel = createProviderConsumer({\n    data: undefined,\n    loading: false,\n}, function (subscribe, child) { return h(\"context-consumer\", { subscribe: subscribe, renderer: child }); });\nexport { ResourceTunnel as R };\n","/* eslint-disable somethnig */\nfunction report(detail, element) {\n    var extendedDetail = Object.assign(Object.assign(Object.assign({}, detail), (element ? { componentName: element.tagName } : {})), { npmVersion: '0.6.4' });\n    console.error(detail); // report error (Rollbar, Datadog, etc.)\n    var evt = new CustomEvent('manifold-error', { bubbles: true, detail: extendedDetail });\n    (element || document).dispatchEvent(evt);\n}\nexport { report as r };\n","import { r as registerInstance, h } from './core-1b19af26.js';\nimport './errorReport-fd9a1346.js';\nimport { l as logger } from './logger-2d4b1cd8.js';\nimport { l as loadMark } from './loadMark-3d3a666d.js';\nimport { R as ResourceTunnel } from './resource-e9fa5185.js';\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ManifoldResourceRename = /** @class */ (function () {\n    function ManifoldResourceRename(hostRef) {\n        registerInstance(this, hostRef);\n        this.loading = true;\n        /** The new label to give to the resource */\n        this.newLabel = '';\n    }\n    ManifoldResourceRename.prototype.componentWillLoad = function () { };\n    ManifoldResourceRename.prototype.render = function () {\n        return (h(\"manifold-data-rename-button\", { resourceId: this.gqlData && this.gqlData.id, resourceLabel: this.gqlData && this.gqlData.label, loading: this.loading, disabled: this.disabled, newLabel: this.newLabel }, h(\"slot\", null)));\n    };\n    return ManifoldResourceRename;\n}());\n__decorate([\n    loadMark()\n], ManifoldResourceRename.prototype, \"componentWillLoad\", null);\n__decorate([\n    logger()\n], ManifoldResourceRename.prototype, \"render\", null);\nResourceTunnel.injectProps(ManifoldResourceRename, ['gqlData', 'loading']);\nexport { ManifoldResourceRename as manifold_resource_rename };\n","import { h } from './core-1b19af26.js';\nimport { r as report } from './errorReport-fd9a1346.js';\nfunction hasSkeletonElements(rendered) {\n    if (rendered &&\n        rendered.$tag$ &&\n        rendered.$tag$.startsWith &&\n        rendered.$tag$.startsWith('manifold-skeleton-')) {\n        return true;\n    }\n    if (rendered && rendered.$children$) {\n        return rendered.$children$.map(function (c) { return hasSkeletonElements(c); }).includes(true);\n    }\n    return false;\n}\n/* eslint-disable no-param-reassign */\nfunction logger() {\n    return function loggerDecorator(target, _propertyKey, descriptor) {\n        var originalMethod = descriptor.value;\n        descriptor.value = function render() {\n            try {\n                var rendered = originalMethod.apply(this); // attempt to call render()\n                if (this.performanceLoadMark &&\n                    !this.performanceRenderedMark &&\n                    target.constructor.name.startsWith('Manifold') &&\n                    !hasSkeletonElements(rendered)) {\n                    this.performanceRenderedMark = performance.now();\n                    var evt = new CustomEvent('manifold-time-to-render', {\n                        bubbles: true,\n                        detail: {\n                            component: target.constructor.name,\n                            duration: this.performanceRenderedMark - this.performanceLoadMark,\n                        },\n                    });\n                    document.dispatchEvent(evt);\n                }\n                return rendered;\n            }\n            catch (e) {\n                var detail = {\n                    componentName: target.constructor.name,\n                    error: e.message,\n                    npmVersion: '0.6.4',\n                };\n                report(detail);\n                return h(\"manifold-toast\", { \"alert-type\": \"error\" }, e.message); // show error to user\n            }\n        };\n        return descriptor;\n    };\n}\nexport { logger as l };\n","/* eslint-disable no-param-reassign */\nfunction loadMark() {\n    return function loadMarkDecorator(_target, _propertyKey, descriptor) {\n        var originalMethod = descriptor.value;\n        descriptor.value = function componentWillLoad() {\n            this.performanceLoadMark = performance.now();\n            return originalMethod.apply(this); // call original method\n        };\n        return descriptor;\n    };\n}\nexport { loadMark as l };\n"],"sourceRoot":""}
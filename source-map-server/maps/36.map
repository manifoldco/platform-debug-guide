{"version":3,"sources":["webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/manifold-active-plan.entry.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/errorReport-fd9a1346.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/logger-2d4b1cd8.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/loadMark-3d3a666d.js"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","ManifoldActivePlan","hostRef","_this","this","selectPlan","planId","selectedPlanId","prototype","plansChange","newPlans","selectedResource","plan","id","node","resourceChange","newResource","get","plans","find","_a","enumerable","configurable","componentWillLoad","render","resourceRegion","region","undefined","isExistingResource","selectedPlan","product","regions","scrollLocked","slot","name","report","detail","element","extendedDetail","assign","componentName","tagName","npmVersion","console","error","evt","CustomEvent","bubbles","document","dispatchEvent","logger","_propertyKey","descriptor","originalMethod","value","rendered","apply","performanceLoadMark","performanceRenderedMark","constructor","startsWith","hasSkeletonElements","$tag$","$children$","map","includes","performance","now","component","duration","e","message","loadMark","_target"],"mappings":"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","file":"36.1d2c58c03172947827c1.js","sourcesContent":["import { r as registerInstance, h } from './core-1b19af26.js';\nimport './errorReport-fd9a1346.js';\nimport { l as logger } from './logger-2d4b1cd8.js';\nimport { l as loadMark } from './loadMark-3d3a666d.js';\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ManifoldActivePlan = /** @class */ (function () {\n    function ManifoldActivePlan(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        this.selectPlan = function (planId) {\n            _this.selectedPlanId = planId;\n        };\n    }\n    ManifoldActivePlan.prototype.plansChange = function (newPlans) {\n        if (this.selectedResource && this.selectedResource.plan && this.selectedResource.plan.id) {\n            this.selectPlan(this.selectedResource.plan.id);\n        }\n        else if (newPlans && newPlans.length > 0) {\n            this.selectPlan(newPlans[0].node.id);\n        }\n    };\n    ManifoldActivePlan.prototype.resourceChange = function (newResource) {\n        if (newResource && newResource.plan && newResource.plan.id) {\n            this.selectPlan(newResource.plan.id);\n        }\n    };\n    Object.defineProperty(ManifoldActivePlan.prototype, \"selectedPlan\", {\n        get: function () {\n            var _this = this;\n            if (!this.plans || !this.plans.length) {\n                return undefined;\n            }\n            // return selectedPlanID plan, or the first plan if that fails\n            var plan = this.plans.find(function (_a) {\n                var id = _a.node.id;\n                return id === _this.selectedPlanId;\n            });\n            return (plan && plan.node) || this.plans[0].node;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ManifoldActivePlan.prototype.componentWillLoad = function () { };\n    ManifoldActivePlan.prototype.render = function () {\n        var resourceRegion = (this.selectedResource && this.selectedResource.region && this.selectedResource.region.id) ||\n            undefined;\n        return [\n            h(\"manifold-plan-menu\", { plans: this.plans, selectedPlanId: this.selectedPlanId, selectPlan: this.selectPlan }),\n            h(\"manifold-plan-details\", { isExistingResource: this.isExistingResource, plan: this.selectedPlan, product: this.product, regions: this.regions, resourceRegion: resourceRegion, scrollLocked: true, region: this.selectedResource && this.selectedResource.region }, h(\"manifold-forward-slot\", { slot: \"cta\" }, h(\"slot\", { name: \"cta\" }))),\n        ];\n    };\n    Object.defineProperty(ManifoldActivePlan, \"watchers\", {\n        get: function () {\n            return {\n                \"plans\": [\"plansChange\"],\n                \"selectedResource\": [\"resourceChange\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ManifoldActivePlan, \"style\", {\n        get: function () { return \":host{display:block;grid-gap:2rem;grid-template-columns:minmax(300px,1fr) minmax(300px,2fr)}\\@media (min-width:1000px){:host{display:grid}}manifold-plan-details{position:-webkit-sticky;position:sticky;top:1rem}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return ManifoldActivePlan;\n}());\n__decorate([\n    loadMark()\n], ManifoldActivePlan.prototype, \"componentWillLoad\", null);\n__decorate([\n    logger()\n], ManifoldActivePlan.prototype, \"render\", null);\nexport { ManifoldActivePlan as manifold_active_plan };\n","/* eslint-disable somethnig */\nfunction report(detail, element) {\n    var extendedDetail = Object.assign(Object.assign(Object.assign({}, detail), (element ? { componentName: element.tagName } : {})), { npmVersion: '0.6.4' });\n    console.error(detail); // report error (Rollbar, Datadog, etc.)\n    var evt = new CustomEvent('manifold-error', { bubbles: true, detail: extendedDetail });\n    (element || document).dispatchEvent(evt);\n}\nexport { report as r };\n","import { h } from './core-1b19af26.js';\nimport { r as report } from './errorReport-fd9a1346.js';\nfunction hasSkeletonElements(rendered) {\n    if (rendered &&\n        rendered.$tag$ &&\n        rendered.$tag$.startsWith &&\n        rendered.$tag$.startsWith('manifold-skeleton-')) {\n        return true;\n    }\n    if (rendered && rendered.$children$) {\n        return rendered.$children$.map(function (c) { return hasSkeletonElements(c); }).includes(true);\n    }\n    return false;\n}\n/* eslint-disable no-param-reassign */\nfunction logger() {\n    return function loggerDecorator(target, _propertyKey, descriptor) {\n        var originalMethod = descriptor.value;\n        descriptor.value = function render() {\n            try {\n                var rendered = originalMethod.apply(this); // attempt to call render()\n                if (this.performanceLoadMark &&\n                    !this.performanceRenderedMark &&\n                    target.constructor.name.startsWith('Manifold') &&\n                    !hasSkeletonElements(rendered)) {\n                    this.performanceRenderedMark = performance.now();\n                    var evt = new CustomEvent('manifold-time-to-render', {\n                        bubbles: true,\n                        detail: {\n                            component: target.constructor.name,\n                            duration: this.performanceRenderedMark - this.performanceLoadMark,\n                        },\n                    });\n                    document.dispatchEvent(evt);\n                }\n                return rendered;\n            }\n            catch (e) {\n                var detail = {\n                    componentName: target.constructor.name,\n                    error: e.message,\n                    npmVersion: '0.6.4',\n                };\n                report(detail);\n                return h(\"manifold-toast\", { \"alert-type\": \"error\" }, e.message); // show error to user\n            }\n        };\n        return descriptor;\n    };\n}\nexport { logger as l };\n","/* eslint-disable no-param-reassign */\nfunction loadMark() {\n    return function loadMarkDecorator(_target, _propertyKey, descriptor) {\n        var originalMethod = descriptor.value;\n        descriptor.value = function componentWillLoad() {\n            this.performanceLoadMark = performance.now();\n            return originalMethod.apply(this); // call original method\n        };\n        return descriptor;\n    };\n}\nexport { loadMark as l };\n"],"sourceRoot":""}
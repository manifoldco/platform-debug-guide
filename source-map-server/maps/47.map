{"version":3,"sources":["webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/connection-07bc76be.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/manifold-button_3.entry.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","connections","local","billing","catalog","gateway","marketplace","provisioning","connector","graphql","oauth","stage","prod","waitForAuthToken","getAuthToken","wait","resume","success","document","removeEventListener","addEventListener","setTimeout","detail","message","Error","__rest","s","p","Object","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","createGraphqlFetch","_a","_b","endpoint","_c","_d","retries","_e","_f","setAuthToken","_g","onReady","args","graphqlFetch","attempts","rttStart","element","request","token","auth","response","errors","fetchDuration","performance","now","authorization","fetch","method","headers","assign","Connection","tagName","JSON","stringify","catch","json","data","Array","isArray","statusText","componentName","duration","npmVersion","type","dispatchEvent","CustomEvent","bubbles","some","extensions","createRestFetch","endpoints","restFetch","options","authToken","withAuth","service","includes","status","undefined","errorMessage","emitter","emit","baseWait","INITIALIZED","connection","_this","env","waitTime","subscribers","initialized","initialize","parseInt","event","subscribe","splice","forEach","__decorate","decorators","target","key","desc","d","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","ManifoldButton","hostRef","color","disabled","size","onClick","buttonClick","stencilClickEvent","componentWillLoad","render","class","get","enumerable","configurable","__decorate$1","ManifoldCredentialsView","loading","shouldTransition","hideCredentials","credentials","requestCredentials","credentialsRequested","findNodes","addListeners","componentDidLoad","componentDidUpdate","removeListeners","componentWillUnload","el","childNodes","child","getAttribute","showButtonEl","querySelector","hideButtonEl","showButton","name","marginRight","icon","style","height","map","node","__decorate$2","PLATFORM_DISPLAY_NAMES","ManifoldNoCredentials","class_1","resourceLabel","platformName","productName","noCredentialsEl","query","variables","resource","owner","platform","domain","plan","product","displayName","noCredentials","slot"],"mappings":"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","file":"47.e2398e81d8f8497ed421.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as report } from './errorReport-fd9a1346.js';\nvar connections = {\n    local: {\n        billing: 'http://api.billing.arigato.tools/v1',\n        catalog: 'http://api.catalog.arigato.tools/v1',\n        gateway: 'http://api.gateway.arigato.tools/v1',\n        marketplace: 'http://api.marketplace.arigato.tools/v1',\n        provisioning: 'http://api.provisioning.arigato.tools/v1',\n        connector: 'http://api.connector.arigato.tools/v1',\n        graphql: 'http://graphql.arigato.tools/graphql',\n        oauth: 'http://login.arigato.tools/signin/oauth/web',\n    },\n    stage: {\n        billing: 'https://api.billing.stage.manifold.co/v1',\n        catalog: 'https://api.catalog.stage.manifold.co/v1',\n        gateway: 'https://api.stage.manifold.co/v1',\n        marketplace: 'https://api.marketplace.stage.manifold.co/v1',\n        provisioning: 'https://api.provisioning.stage.manifold.co/v1',\n        connector: 'https://api.connector.stage.manifold.co/v1',\n        graphql: 'https://api.stage.manifold.co/graphql',\n        oauth: 'https://login.stage.manifold.co/signin/oauth/web',\n    },\n    prod: {\n        billing: 'https://api.billing.manifold.co/v1',\n        catalog: 'https://api.catalog.manifold.co/v1',\n        gateway: 'https://api.manifold.co/v1',\n        marketplace: 'https://api.marketplace.manifold.co/v1',\n        provisioning: 'https://api.provisioning.manifold.co/v1',\n        connector: 'https://api.connector.manifold.co/v1',\n        graphql: 'https://api.manifold.co/graphql',\n        oauth: 'https://login.manifold.co/signin/oauth/web',\n    },\n};\n/**\n * This grabs the manifold_api_token from local storage, and sets the auth header in requests.\n * You may also pass through any other fetch options you’d like.\n */\nfunction withAuth(authToken, options) {\n    /* FIXME: This is being used as a fallback for our demo apps during the transition to\n     * oauth and GraphQL. The authToken being passed in will only be present if the app\n     * that renders our Web Components uses oauth. But we have demo apps that are keeping\n     * our old tokens in local storage in order for REST calls to work. This keeps them\n     * working.\n     */\n    return Object.assign(Object.assign({}, (options || {})), { headers: Object.assign(Object.assign({}, ((options && options.headers) || {})), { authorization: \"Bearer \" + authToken }) });\n}\nfunction waitForAuthToken(getAuthToken, wait, resume) {\n    return new Promise(function (resolve, reject) {\n        var success = function () {\n            document.removeEventListener('manifold-token-receive', success);\n            resolve(resume());\n        };\n        document.addEventListener('manifold-token-receive', success);\n        setTimeout(function () {\n            document.removeEventListener('manifold-token-receive', success);\n            if (!getAuthToken()) {\n                var detail = { message: 'No auth token given' };\n                report(detail);\n                reject(new Error(detail.message));\n            }\n        }, wait);\n    });\n}\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n            t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nfunction createGraphqlFetch(_a) {\n    var _b = _a.endpoint, endpoint = _b === void 0 ? function () { return 'https://api.manifold.co/graphql'; } : _b, _c = _a.wait, wait = _c === void 0 ? function () { return 15000; } : _c, _d = _a.retries, retries = _d === void 0 ? 0 : _d, _e = _a.getAuthToken, getAuthToken = _e === void 0 ? function () { return undefined; } : _e, _f = _a.setAuthToken, setAuthToken = _f === void 0 ? function () { } : _f, _g = _a.onReady, onReady = _g === void 0 ? function () { return new Promise(function (resolve) { return resolve(); }); } : _g;\n    function graphqlFetch(args, attempts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var rttStart, element, request, token, auth, response, body, errors, fetchDuration, detail, authExpired;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onReady()];\n                    case 1:\n                        _a.sent();\n                        rttStart = performance.now();\n                        element = args.element, request = __rest(args, [\"element\"]);\n                        token = getAuthToken();\n                        auth = token && token !== 'undefined' ? { authorization: \"Bearer \" + token } : {};\n                        return [4 /*yield*/, fetch(endpoint(), {\n                                method: 'POST',\n                                headers: Object.assign(Object.assign(Object.assign({ Connection: 'keep-alive', 'Content-type': 'application/json' }, auth), (element ? { 'x-manifold-component': element.tagName } : {})), { 'x-manifold-ui-version': '0.6.4' }),\n                                body: JSON.stringify(request),\n                            }).catch(function (e) {\n                                // handle unexpected errors\n                                report(e, element);\n                                return Promise.reject(e);\n                            })];\n                    case 2:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        body = _a.sent();\n                        // handle non-GQL responses from errors\n                        if (!body.data && !Array.isArray(body.errors)) {\n                            errors = [{ message: response.statusText }];\n                            report(errors, element);\n                            return [2 /*return*/, {\n                                    data: null,\n                                    errors: errors,\n                                }];\n                        }\n                        fetchDuration = performance.now() - rttStart;\n                        detail = {\n                            componentName: element.tagName,\n                            duration: fetchDuration,\n                            errors: body.errors,\n                            npmVersion: '0.6.4',\n                            request: request,\n                            type: 'manifold-graphql-fetch-duration',\n                        };\n                        (element || document).dispatchEvent(new CustomEvent('manifold-graphql-fetch-duration', { bubbles: true, detail: detail }));\n                        if (body.errors) {\n                            report(body.errors, element);\n                            authExpired = body.errors.some(function (e) {\n                                return e.extensions && e.extensions.type === 'AuthFailed';\n                            });\n                            if (authExpired) {\n                                setAuthToken('');\n                                if (attempts < retries) {\n                                    return [2 /*return*/, waitForAuthToken(getAuthToken, wait(), function () { return graphqlFetch(args, attempts + 1); })];\n                                }\n                                throw new Error('Auth token expired');\n                            }\n                        }\n                        // return everything to the user\n                        return [2 /*return*/, body];\n                }\n            });\n        });\n    }\n    return function (args) {\n        return graphqlFetch(args, 0);\n    };\n}\nfunction createRestFetch(_a) {\n    var _b = _a.endpoints, endpoints = _b === void 0 ? function () { return connections.prod; } : _b, _c = _a.wait, wait = _c === void 0 ? function () { return 15000; } : _c, _d = _a.retries, retries = _d === void 0 ? 0 : _d, _e = _a.getAuthToken, getAuthToken = _e === void 0 ? function () { return undefined; } : _e, _f = _a.setAuthToken, setAuthToken = _f === void 0 ? function () { } : _f, _g = _a.onReady, onReady = _g === void 0 ? function () { return new Promise(function (resolve) { return resolve(); }); } : _g;\n    function restFetch(args, attempts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var rttStart, token, options, response, body, fetchDuration, detail, message;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, onReady()];\n                    case 1:\n                        _a.sent();\n                        rttStart = performance.now();\n                        token = getAuthToken();\n                        options = token ? withAuth(token, args.options) : args.options;\n                        return [4 /*yield*/, fetch(\"\" + endpoints()[args.service] + args.endpoint, Object.assign(Object.assign({}, options), { body: JSON.stringify(args.body) })).catch(function (e) {\n                                /* Handle unexpected errors */\n                                report(e);\n                                return Promise.reject(e);\n                            })];\n                    case 2:\n                        response = _a.sent();\n                        /* Handle successful responses */\n                        if ([202, 203, 204].includes(response.status)) {\n                            return [2 /*return*/, undefined];\n                        }\n                        /* Handle expected errors */\n                        if (response.status === 401) {\n                            setAuthToken('');\n                            report(response);\n                            if (attempts < retries) {\n                                return [2 /*return*/, waitForAuthToken(getAuthToken, wait(), function () { return restFetch(args, attempts + 1); })];\n                            }\n                            throw new Error('Auth token expired');\n                        }\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        body = _a.sent();\n                        fetchDuration = performance.now() - rttStart;\n                        detail = {\n                            type: 'manifold-rest-fetch-duration',\n                            endpoint: args.endpoint,\n                            duration: fetchDuration,\n                            status: response.status,\n                        };\n                        if (Array.isArray(body) && body.length > 0) {\n                            message = body[0].message;\n                        }\n                        else if (typeof body === 'object') {\n                            message = body.message;\n                        }\n                        if (message) {\n                            detail.errorMessage = message;\n                        }\n                        if (args.emitter) {\n                            args.emitter.emit(detail);\n                        }\n                        else {\n                            document.dispatchEvent(new CustomEvent('manifold-rest-fetch-duration', {\n                                bubbles: true,\n                                detail: detail,\n                            }));\n                        }\n                        if (response.status >= 200 && response.status < 300) {\n                            return [2 /*return*/, body];\n                        }\n                        // Sometimes messages are an array, sometimes they aren’t. Different strokes!\n                        report(response);\n                        throw new Error(message);\n                }\n            });\n        });\n    }\n    return function (args) {\n        return restFetch(args, 0);\n    };\n}\nvar baseWait = 15000;\nvar INITIALIZED = 'manifold-connection-initialize';\nvar ConnectionState = /** @class */ (function () {\n    function ConnectionState() {\n        var _this = this;\n        this.env = 'prod';\n        this.waitTime = baseWait;\n        this.subscribers = [];\n        this.initialized = false;\n        this.initialize = function (_a) {\n            var _b = _a.env, env = _b === void 0 ? 'prod' : _b, _c = _a.waitTime, waitTime = _c === void 0 ? baseWait : _c;\n            _this.env = env;\n            _this.waitTime = typeof waitTime === 'number' ? waitTime : parseInt(waitTime, 10);\n            _this.initialized = true;\n            var event = new CustomEvent(INITIALIZED);\n            document.dispatchEvent(event);\n        };\n        this.onReady = function () {\n            return new Promise(function (resolve) {\n                if (_this.initialized) {\n                    resolve();\n                }\n                var done = function () {\n                    _this.initialized = true;\n                    document.removeEventListener(INITIALIZED, done);\n                    resolve();\n                };\n                document.addEventListener(INITIALIZED, done);\n            });\n        };\n        this.subscribe = function (s) {\n            _this.subscribers.push(s);\n            return function () {\n                _this.subscribers.splice(_this.subscribers.indexOf(s), 1);\n            };\n        };\n        this.setAuthToken = function (token) {\n            _this.subscribers.forEach(function (s) { return s(token); });\n            _this.authToken = token;\n        };\n        this.getAuthToken = function () { return _this.authToken; };\n        this.restFetch = createRestFetch({\n            endpoints: function () { return connections[_this.env]; },\n            getAuthToken: this.getAuthToken,\n            setAuthToken: this.setAuthToken,\n            onReady: this.onReady,\n            wait: function () { return _this.waitTime; },\n            retries: 1,\n        });\n        this.graphqlFetch = createGraphqlFetch({\n            getAuthToken: this.getAuthToken,\n            setAuthToken: this.setAuthToken,\n            onReady: this.onReady,\n            endpoint: function () { return connections[_this.env].graphql; },\n            wait: function () { return _this.waitTime; },\n            retries: 1,\n        });\n    }\n    return ConnectionState;\n}());\nvar connection = new ConnectionState();\nexport { connections as a, connection as c, waitForAuthToken as w };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './core-1b19af26.js';\nimport { c as connection } from './connection-07bc76be.js';\nimport './errorReport-fd9a1346.js';\nimport { l as logger } from './logger-2d4b1cd8.js';\nimport { l as loadMark } from './loadMark-3d3a666d.js';\nimport { x as eye, y as lock, z as loader } from './index-23a3e42a.js';\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ManifoldButton = /** @class */ (function () {\n    function ManifoldButton(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        this.color = 'white';\n        this.disabled = false;\n        this.size = 'medium';\n        this.type = 'button';\n        this.onClick = function (e) {\n            _this.buttonClick.emit();\n            if (_this.stencilClickEvent) {\n                _this.stencilClickEvent(e);\n            }\n        };\n        this.buttonClick = createEvent(this, \"manifold-button-click\", 7);\n    }\n    ManifoldButton.prototype.componentWillLoad = function () { };\n    ManifoldButton.prototype.render = function () {\n        return (h(\"button\", { class: \"button\", \"data-color\": this.color, \"data-size\": this.size, disabled: this.disabled, onClick: this.onClick, type: this.type }, h(\"slot\", null)));\n    };\n    Object.defineProperty(ManifoldButton, \"style\", {\n        get: function () { return \".button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;height:2.5rem;padding:0 1.5rem;color:var(--manifold-color-gray);font-size:var(--manifold-font-d1);font-family:var(--manifold-font-family);font-family:var(--theme-font-family,var(--manifold-font-family));line-height:2.5;white-space:nowrap;text-align:center;text-decoration:none;background:var(--manifold-grayscale-100i);border-color:var(--manifold-grayscale-20);border-style:solid;border-width:1px;border-radius:var(--manifold-radius);outline:none;-webkit-box-shadow:var(--manifold-shadow-default);box-shadow:var(--manifold-shadow-default);cursor:pointer;-webkit-transition-timing-function:linear;transition-timing-function:linear;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-property:background-color,border-color,color,box-shadow,-webkit-filter;transition-property:background-color,border-color,color,box-shadow,-webkit-filter;-webkit-transition-property:background-color,border-color,color,-webkit-box-shadow,-webkit-filter;transition-property:background-color,border-color,color,-webkit-box-shadow,-webkit-filter;transition-property:background-color,border-color,color,box-shadow,filter;transition-property:background-color,border-color,color,box-shadow,filter,-webkit-box-shadow,-webkit-filter;transition-property:background-color,border-color,color,box-shadow,filter,-webkit-filter}.button:focus,.button:hover{-webkit-filter:saturate(130%);filter:saturate(130%)}.button:active{-webkit-transform:translateY(1px);transform:translateY(1px);-webkit-filter:brightness(90%);filter:brightness(90%)}.button[data-color=black]{color:var(--manifold-grayscale-95i);background:var(--manifold-grayscale-100);border:transparent}.button[data-color=black]:active{color:var(--manifold-grayscale-90i)}.button[data-color=black]:focus,.button[data-color=black]:hover{background:var(--manifold-grayscale-90)}.button[data-color=gray]{color:var(--manifold-color-gray);background:var(--manifold-color-gray10);border-color:var(--manifold-color-gray40);-webkit-box-shadow:none;box-shadow:none}.button[data-color=gray]:active{color:var(--manifold-color-gray80);background:var(--manifold-color-gray05)}.button[data-color=gray]:focus,.button[data-color=gray]:hover{color:var(--manifold-grayscale100)}.button[data-color=orange]{color:var(--manifold-grayscale-100i);background:var(--manifold-g-orange);border-style:none;-webkit-box-shadow:none;box-shadow:none}.button[data-color=orange]:active{color:var(--manifold-grayscale-80i)}.button[data-color=pink]{color:var(--manifold-grayscale-100i);background:var(--manifold-g-pink);border-style:none;-webkit-box-shadow:none;box-shadow:none}.button[data-color=pink]:active{color:var(--manifold-grayscale-80i)}.button[data-color=white]:active{color:var(--manifold-color-gray);border-color:var(--manifold-grayscale-40);-webkit-box-shadow:var(--manifold-shadow-transparent);box-shadow:var(--manifold-shadow-transparent)}.button[data-color=white]:focus,.button[data-color=white]:hover{color:var(--manifold-grayscale-100);border-color:var(--manifold-grayscale-40)}.button[data-size=small]{height:2rem;padding:0 1rem;font-size:var(--manifold-font-d2);line-height:1}.button:disabled{border-color:transparent;cursor:not-allowed;opacity:.8}.button:disabled,.button:disabled:active,.button:disabled:focus,.button:disabled:hover{color:var(--manifold-grayscale-60);background:var(--manifold-grayscale-05);-webkit-box-shadow:none;box-shadow:none}.button:disabled:active{-webkit-transform:none;transform:none}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return ManifoldButton;\n}());\n__decorate([\n    loadMark()\n], ManifoldButton.prototype, \"componentWillLoad\", null);\n__decorate([\n    logger()\n], ManifoldButton.prototype, \"render\", null);\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ManifoldCredentialsView = /** @class */ (function () {\n    function ManifoldCredentialsView(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        this.loading = false;\n        this.shouldTransition = false;\n        this.hideCredentials = function () {\n            _this.credentials = undefined;\n        };\n        this.requestCredentials = function () {\n            _this.credentialsRequested.emit();\n        };\n        this.credentialsRequested = createEvent(this, \"credentialsRequested\", 7);\n    }\n    ManifoldCredentialsView.prototype.componentWillLoad = function () {\n        this.findNodes();\n        this.addListeners();\n    };\n    ManifoldCredentialsView.prototype.componentDidLoad = function () {\n        var _this = this;\n        // hide the first transition for 250ms (long enough to transition in)\n        setTimeout(function () {\n            _this.shouldTransition = true;\n        }, 250);\n    };\n    ManifoldCredentialsView.prototype.componentDidUpdate = function () {\n        this.removeListeners();\n        this.findNodes();\n        this.addListeners();\n    };\n    ManifoldCredentialsView.prototype.componentWillUnload = function () {\n        this.removeListeners();\n    };\n    ManifoldCredentialsView.prototype.findNodes = function () {\n        var _this = this;\n        this.el.childNodes.forEach(function (child) {\n            if (child.getAttribute('slot') === 'show-button') {\n                _this.showButtonEl = child.querySelector('*:not(manifold-forward-slot)') || undefined;\n            }\n            else if (child.getAttribute('slot') === 'hide-button') {\n                _this.hideButtonEl = child.querySelector('*:not(manifold-forward-slot)') || undefined;\n            }\n        });\n    };\n    ManifoldCredentialsView.prototype.addListeners = function () {\n        if (this.showButtonEl) {\n            this.showButtonEl.addEventListener('click', this.requestCredentials);\n        }\n        if (this.hideButtonEl) {\n            this.hideButtonEl.addEventListener('click', this.hideCredentials);\n        }\n    };\n    ManifoldCredentialsView.prototype.removeListeners = function () {\n        if (this.showButtonEl) {\n            this.showButtonEl.removeEventListener('click', this.requestCredentials);\n        }\n        if (this.hideButtonEl) {\n            this.hideButtonEl.removeEventListener('click', this.hideCredentials);\n        }\n    };\n    ManifoldCredentialsView.prototype.render = function () {\n        var showButton = this.showButtonEl ? (h(\"slot\", { name: \"show-button\" })) : (h(\"manifold-button\", { color: \"black\", stencilClickEvent: this.requestCredentials }, h(\"manifold-icon\", { marginRight: true, icon: eye }), \" Show credentials\"));\n        return [\n            h(\"menu\", { class: \"secrets-menu\", \"data-showing\": !!this.credentials || undefined, \"data-transitions\": this.shouldTransition || undefined }, this.hideButtonEl ? (h(\"slot\", { name: \"hide-button\" })) : (h(\"manifold-button\", { color: \"white\", size: \"small\", stencilClickEvent: this.hideCredentials }, h(\"manifold-icon\", { marginRight: true, icon: lock }), \"Hide credentials\"))),\n            h(\"div\", { class: \"credential\", \"data-showing\": !!this.credentials, style: { height: this.credentials ? this.credentials.length * 1.75 + \"em\" : undefined } }, h(\"div\", { class: \"screen-left\" }), h(\"div\", { class: \"screen-right\" }), Array.isArray(this.credentials) && (h(\"div\", { class: \"secrets\" }, h(\"pre\", { class: \"env\" }, h(\"code\", null, this.credentials.map(function (_a) {\n                var node = _a.node;\n                return node\n                    ? [\n                        h(\"span\", { class: \"env-key\" }, node.key),\n                        '=',\n                        h(\"span\", { class: \"env-value\" }, node.value),\n                        '\\n',\n                    ]\n                    : null;\n            }))))), h(\"div\", { class: \"hidden\" }, this.loading ? (h(\"manifold-button\", { color: \"black\", disabled: true }, h(\"span\", { class: \"spin\" }, h(\"manifold-icon\", { icon: loader })))) : (showButton))),\n        ];\n    };\n    Object.defineProperty(ManifoldCredentialsView.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ManifoldCredentialsView, \"style\", {\n        get: function () { return \"\\@import url(\\\"https://fonts.googleapis.com/css?family=IBM+Plex+Mono\\\");:host{--height:8rem;color:var(--manifold-text-color);font-family:var(--manifold-font-family)}.comment{color:#fff;opacity:.6}.env{margin:0;padding:1.5rem;color:#ea62b3;font-size:1em;font-family:var(--manifold-font-family-monospace);border-radius:var(--manifold-radius)}.env-value{color:var(--manifold-color-secondary)}.screen-left,.screen-right{position:absolute;top:0;height:100%;background-color:var(--manifold-grayscale-100i);-webkit-transition:opacity .15s linear,-webkit-transform .25s var(--manifold-ease-sharp);transition:opacity .15s linear,-webkit-transform .25s var(--manifold-ease-sharp);transition:transform .25s var(--manifold-ease-sharp),opacity .15s linear;transition:transform .25s var(--manifold-ease-sharp),opacity .15s linear,-webkit-transform .25s var(--manifold-ease-sharp)}.screen-left{left:0;width:calc(50% + 2rem)}.hidden,.screen-right{right:0;width:50%}.hidden{position:absolute;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;font-size:var(--manifold-font-d1);-webkit-transition:opacity .25s linear,-webkit-transform .25s var(--manifold-ease-sharp);transition:opacity .25s linear,-webkit-transform .25s var(--manifold-ease-sharp);transition:transform .25s var(--manifold-ease-sharp),opacity .25s linear;transition:transform .25s var(--manifold-ease-sharp),opacity .25s linear,-webkit-transform .25s var(--manifold-ease-sharp)}.hidden>::slotted(*),.hidden manifold-button{margin-top:1rem;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.credential{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:var(--height);overflow:hidden;color:var(--manifold-grayscale-70i);background:var(--manifold-grayscale-90);border-radius:var(--manifold-radius);-webkit-box-shadow:0 0 0 1px var(--manifold-grayscale-10);box-shadow:0 0 0 1px var(--manifold-grayscale-10);-webkit-transition:height .3s var(--manifold-ease-in-out);transition:height .3s var(--manifold-ease-in-out);will-change:height}.credential[data-showing] .screen-left{-webkit-transform:translateX(calc(-100% - 8rem));transform:translateX(calc(-100% - 8rem))}.credential[data-showing] .hidden,.credential[data-showing] .screen-right{-webkit-transform:translateX(calc(100% + 8rem));transform:translateX(calc(100% + 8rem));pointer-events:none}.secrets{min-height:var(--height);overflow-x:auto;-webkit-overflow-scrolling:touch}.secrets-menu{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:0;margin-bottom:.5rem;padding:0;-webkit-transform:translateY(100%);transform:translateY(100%);opacity:0}.secrets-menu[data-showing]{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}.secrets-menu[data-transitions]{-webkit-transition:opacity .15s linear,-webkit-transform .15s var(--manifold-ease-sharp);transition:opacity .15s linear,-webkit-transform .15s var(--manifold-ease-sharp);transition:transform .15s var(--manifold-ease-sharp),opacity .15s linear;transition:transform .15s var(--manifold-ease-sharp),opacity .15s linear,-webkit-transform .15s var(--manifold-ease-sharp)}\\@-webkit-keyframes spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}\\@keyframes spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.spin{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return ManifoldCredentialsView;\n}());\n__decorate$1([\n    loadMark()\n], ManifoldCredentialsView.prototype, \"componentWillLoad\", null);\n__decorate$1([\n    logger()\n], ManifoldCredentialsView.prototype, \"render\", null);\nvar resourceNoCredentialsQuery = \"query ResourceNoCredentials($resourceLabel: String!) {\\n  resource(label: $resourceLabel) {\\n    plan {\\n      product {\\n        displayName\\n      }\\n    }\\n    owner {\\n      platform {\\n        domain\\n      }\\n    }\\n  }\\n}\\n\";\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar PLATFORM_DISPLAY_NAMES = {\n    'manifold.co': 'Manifold',\n    'digitalocean.com': 'DigitalOcean',\n    'render.com': 'Render',\n};\nvar ManifoldNoCredentials = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        this.graphqlFetch = connection.graphqlFetch;\n        this.resourceLabel = '';\n        this.message = 'Access to this resource is authorized through your account without credentials. SSO into the product dashboard to configure your service.';\n    }\n    class_1.prototype.componentWillLoad = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, platformName, productName;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.findNodes();\n                        if (this.noCredentialsEl || !this.graphqlFetch || !this.resourceLabel) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.graphqlFetch({\n                                query: resourceNoCredentialsQuery,\n                                variables: { resourceLabel: this.resourceLabel },\n                                element: this.el,\n                            })];\n                    case 1:\n                        data = (_a.sent()).data;\n                        platformName = data && PLATFORM_DISPLAY_NAMES[data.resource.owner.platform.domain];\n                        productName = data && data.resource.plan.product.displayName;\n                        this.message = \"Access to \" + (productName ||\n                            'this resource') + \" is authorized through your \" + platformName + \" account without credentials. SSO into the \" + (productName ||\n                            'product') + \" dashboard to configure your service.\";\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.componentDidUpdate = function () {\n        this.findNodes();\n    };\n    class_1.prototype.findNodes = function () {\n        var _this = this;\n        this.el.childNodes.forEach(function (child) {\n            if (child.getAttribute('slot') === 'no-credentials') {\n                _this.noCredentialsEl = child.querySelector('*:not(manifold-forward-slot)') || undefined;\n            }\n        });\n    };\n    class_1.prototype.render = function () {\n        var noCredentials = this.noCredentialsEl ? (h(\"slot\", { name: \"no-credentials\" })) : (h(\"div\", null, this.message));\n        return [\n            h(\"div\", { class: \"no-credentials\" }, h(\"div\", { class: \"message\" }, noCredentials), h(\"div\", { class: \"sso\" }, h(\"manifold-forward-slot\", { slot: \"sso-button\" }, h(\"slot\", { name: \"sso-button\" })))),\n            h(\"manifold-forward-slot\", { slot: \"show-button\" }),\n            h(\"manifold-forward-slot\", { slot: \"hide-button\" }),\n        ];\n    };\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"style\", {\n        get: function () { return \":host{color:var(--manifold-text-color);font-family:var(--manifold-font-family)}.no-credentials{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:var(--height);padding:2rem;overflow:hidden;border-radius:var(--manifold-radius);-webkit-box-shadow:0 0 0 1px var(--manifold-grayscale-10);box-shadow:0 0 0 1px var(--manifold-grayscale-10)}.message{padding-right:2rem;color:var(--manifold-grayscale-70)}.sso{white-space:nowrap}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return class_1;\n}());\n__decorate$2([\n    loadMark()\n], ManifoldNoCredentials.prototype, \"componentWillLoad\", null);\n__decorate$2([\n    logger()\n], ManifoldNoCredentials.prototype, \"render\", null);\nexport { ManifoldButton as manifold_button, ManifoldCredentialsView as manifold_credentials_view, ManifoldNoCredentials as manifold_no_credentials };\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/resource-e9fa5185.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/errorReport-fd9a1346.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/manifold-resource-plan.entry.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/logger-2d4b1cd8.js","webpack:///./node_modules/@manifoldco/ui/dist/esm-es5/loadMark-3d3a666d.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","ResourceTunnel","defaultState","consumerRender","listeners","Map","currentState","updateListener","fields","instance","isArray","forEach","fieldName","Object","assign","subscribe","propList","has","set","delete","Provider","_a","children","state","Consumer","props","injectProps","Cstr","fieldList","CstrPrototype","prototype","cstrConnectedCallback","connectedCallback","cstrDisconnectedCallback","disconnectedCallback","this","call","createProviderConsumer","data","undefined","loading","child","renderer","report","detail","element","extendedDetail","componentName","tagName","npmVersion","console","error","evt","CustomEvent","bubbles","document","dispatchEvent","__decorate","decorators","target","key","desc","d","c","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","ManifoldResourcePlan","hostRef","componentWillLoad","render","product","region","plan","gqlData","scrollLocked","isExistingResource","slot","name","logger","_propertyKey","descriptor","originalMethod","value","rendered","apply","performanceLoadMark","performanceRenderedMark","constructor","startsWith","hasSkeletonElements","$tag$","$children$","map","includes","performance","now","component","duration","e","message","loadMark","_target"],"mappings":"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","file":"29.901c72bd164b41379d4a.js","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { h } from './core-1b19af26.js';\nvar createProviderConsumer = function (defaultState, consumerRender) {\n    var listeners = new Map();\n    var currentState = defaultState;\n    var updateListener = function (fields, instance) {\n        if (Array.isArray(fields)) {\n            __spreadArrays(fields).forEach(function (fieldName) {\n                instance[fieldName] = currentState[fieldName];\n            });\n        }\n        else {\n            instance[fields] = Object.assign({}, currentState);\n        }\n    };\n    var subscribe = function (instance, propList) {\n        if (!listeners.has(instance)) {\n            listeners.set(instance, propList);\n            updateListener(propList, instance);\n        }\n        return function () {\n            if (listeners.has(instance)) {\n                listeners.delete(instance);\n            }\n        };\n    };\n    var Provider = function (_a, children) {\n        var state = _a.state;\n        currentState = state;\n        listeners.forEach(updateListener);\n        return children;\n    };\n    var Consumer = function (props, children) {\n        // The casting on subscribe is to allow for crossover through the stencil compiler\n        // In the future we should allow for generics in components.\n        return consumerRender(subscribe, children[0]);\n    };\n    var injectProps = function (Cstr, fieldList) {\n        var CstrPrototype = Cstr.prototype;\n        var cstrConnectedCallback = CstrPrototype.connectedCallback;\n        var cstrDisconnectedCallback = CstrPrototype.disconnectedCallback;\n        CstrPrototype.connectedCallback = function () {\n            subscribe(this, fieldList);\n            if (cstrConnectedCallback) {\n                return cstrConnectedCallback.call(this);\n            }\n        };\n        CstrPrototype.disconnectedCallback = function () {\n            listeners.delete(this);\n            if (cstrDisconnectedCallback) {\n                cstrDisconnectedCallback.call(this);\n            }\n        };\n    };\n    return {\n        Provider: Provider,\n        Consumer: Consumer,\n        injectProps: injectProps\n    };\n};\nvar ResourceTunnel = createProviderConsumer({\n    data: undefined,\n    loading: false,\n}, function (subscribe, child) { return h(\"context-consumer\", { subscribe: subscribe, renderer: child }); });\nexport { ResourceTunnel as R };\n","/* eslint-disable somethnig */\nfunction report(detail, element) {\n    var extendedDetail = Object.assign(Object.assign(Object.assign({}, detail), (element ? { componentName: element.tagName } : {})), { npmVersion: '0.6.4' });\n    console.error(detail); // report error (Rollbar, Datadog, etc.)\n    var evt = new CustomEvent('manifold-error', { bubbles: true, detail: extendedDetail });\n    (element || document).dispatchEvent(evt);\n}\nexport { report as r };\n","import { r as registerInstance, h } from './core-1b19af26.js';\nimport './errorReport-fd9a1346.js';\nimport { l as logger } from './logger-2d4b1cd8.js';\nimport { l as loadMark } from './loadMark-3d3a666d.js';\nimport { R as ResourceTunnel } from './resource-e9fa5185.js';\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ManifoldResourcePlan = /** @class */ (function () {\n    function ManifoldResourcePlan(hostRef) {\n        registerInstance(this, hostRef);\n        this.loading = true;\n    }\n    ManifoldResourcePlan.prototype.componentWillLoad = function () { };\n    ManifoldResourcePlan.prototype.render = function () {\n        var product;\n        var plan = null;\n        var region;\n        if (!this.loading && this.gqlData && this.gqlData.plan) {\n            plan = this.gqlData.plan;\n            product = this.gqlData.plan.product;\n            region = this.gqlData.region;\n        }\n        if (this.loading || !product || !plan) {\n            return (\n            // ☠\n            h(\"manifold-plan-details\", { scrollLocked: false }, h(\"manifold-forward-slot\", { slot: \"cta\" }, h(\"slot\", { name: \"cta\" }))));\n        }\n        return (h(\"manifold-plan-details\", { scrollLocked: false, plan: plan, product: product, region: region, isExistingResource: true }, h(\"manifold-forward-slot\", { slot: \"cta\" }, h(\"slot\", { name: \"cta\" }))));\n    };\n    return ManifoldResourcePlan;\n}());\n__decorate([\n    loadMark()\n], ManifoldResourcePlan.prototype, \"componentWillLoad\", null);\n__decorate([\n    logger()\n], ManifoldResourcePlan.prototype, \"render\", null);\nResourceTunnel.injectProps(ManifoldResourcePlan, ['gqlData', 'loading']);\nexport { ManifoldResourcePlan as manifold_resource_plan };\n","import { h } from './core-1b19af26.js';\nimport { r as report } from './errorReport-fd9a1346.js';\nfunction hasSkeletonElements(rendered) {\n    if (rendered &&\n        rendered.$tag$ &&\n        rendered.$tag$.startsWith &&\n        rendered.$tag$.startsWith('manifold-skeleton-')) {\n        return true;\n    }\n    if (rendered && rendered.$children$) {\n        return rendered.$children$.map(function (c) { return hasSkeletonElements(c); }).includes(true);\n    }\n    return false;\n}\n/* eslint-disable no-param-reassign */\nfunction logger() {\n    return function loggerDecorator(target, _propertyKey, descriptor) {\n        var originalMethod = descriptor.value;\n        descriptor.value = function render() {\n            try {\n                var rendered = originalMethod.apply(this); // attempt to call render()\n                if (this.performanceLoadMark &&\n                    !this.performanceRenderedMark &&\n                    target.constructor.name.startsWith('Manifold') &&\n                    !hasSkeletonElements(rendered)) {\n                    this.performanceRenderedMark = performance.now();\n                    var evt = new CustomEvent('manifold-time-to-render', {\n                        bubbles: true,\n                        detail: {\n                            component: target.constructor.name,\n                            duration: this.performanceRenderedMark - this.performanceLoadMark,\n                        },\n                    });\n                    document.dispatchEvent(evt);\n                }\n                return rendered;\n            }\n            catch (e) {\n                var detail = {\n                    componentName: target.constructor.name,\n                    error: e.message,\n                    npmVersion: '0.6.4',\n                };\n                report(detail);\n                return h(\"manifold-toast\", { \"alert-type\": \"error\" }, e.message); // show error to user\n            }\n        };\n        return descriptor;\n    };\n}\nexport { logger as l };\n","/* eslint-disable no-param-reassign */\nfunction loadMark() {\n    return function loadMarkDecorator(_target, _propertyKey, descriptor) {\n        var originalMethod = descriptor.value;\n        descriptor.value = function componentWillLoad() {\n            this.performanceLoadMark = performance.now();\n            return originalMethod.apply(this); // call original method\n        };\n        return descriptor;\n    };\n}\nexport { loadMark as l };\n"],"sourceRoot":""}